<!doctype html>
<html>
<head>
  <title>Mocktacts</title>
  <script src="../../../polymer/polymer.js"></script>

  <link href="../../../polymer-elements/polymer-grid-layout/polymer-grid-layout.html" rel="import">
  <link href="../../../polymer-elements/polymer-list/polymer-grid.html" rel="import">
  <link href="../../../polymer-ui-elements/polymer-ui-field/polymer-ui-field.html" rel="import">
  <link href="../../../polymer-ui-elements/polymer-ui-sidebar-menu/polymer-ui-sidebar-menu.html" rel="import">
  <link href="../../../polymer-ui-elements/polymer-ui-menu-button/polymer-ui-menu-button.html" rel="import">
  <link href="../../../polymer-ui-elements/polymer-ui-menu-item/polymer-ui-menu-item.html" rel="import">
  <link href="../../../polymer-ui-elements/polymer-ui-icon-button/polymer-ui-icon-button.html" rel="import">
  <link href="../../../polymer-ui-elements/polymer-ui-accordion/polymer-ui-accordion.html" rel="import">
  <link href="../../../polymer-ui-elements/polymer-ui-overlay/polymer-ui-overlay.html" rel="import">
  <link href="contact-list/contact-list.html" rel="import">
	<link href="contact-info/contact-info-item.html" rel="import">

  <style>
    html, body {
      height: 100%;
    }

    body {
      font-family: 'Helvetica Neue', Roboto, Arial, Helvetica, sans-serif;
      background-color: black;
      margin: 0;
      overflow: hidden;
      text-align: center;
    }

    mock-tacts {
      display: inline-block;
      height: 100%;
      width: 320px;
      position: relative;
      overflow: hidden;
      background-color: whitesmoke;
      -webkit-user-select: none;
      text-align: left;
    }
  </style>
</head>
<body theme="polymer-ui-light-theme">

  <mock-tacts></mock-tacts>

  <polymer-element name="mock-tacts">
    <template>
      <style>
        #sidebar {
          width: 248px;
        }
        #otherbar {
          padding: 16px;
          background-color: #282828;
          color: #aaa;
        }
        #sidebar, #groups, #collection, #collectionbar, #groupbar {
          -webkit-transition: left, opacity;
          -webkit-transition-duration: 0.3s;
          -webkit-transition-timing-function: ease-in;
        }
        #groups, #collection, #collectionbar, #groupbar {
          min-width: 320px;
        }
        #groups, #collection {
          background-color: white;
        }
				contact {
          display: block;
          padding: 16px;
          font-size: 12px;
          font-weight: bold;
          color: #333;
          border-bottom: 1px solid rgba(221, 221, 221, 0.25);
        }
				contact polymer-ui-icon {
          margin-right: 18px;
        }
				#contactbar, #newcontactbar {
					background: #666666 none !important;
					border-color: transparent !important;
				}
				#contactsheet {
					position: absolute !important;
					bottom: 0;
					width: 100%;
					background: #fff;
					border: 1px solid rgba(221, 221, 221, 0.25);
				}
				contact-photo {
					background: #666666;
					padding: 16px;
					display: block;
					border-bottom: 1px solid rgba(221, 221, 221, 0.25);
				}
				contact-photo div {
					display: block;
					width: 108px;
					height: 108px;
					background-color: #b3b3b3;
          border: 1px solid rgba(221, 221, 221, 0.25);
				}
        .polymer-ui-collapsible-header {
          padding: 16px;
          font-size: 0.8em;
          font-weight: bold;
          border-bottom: 1px solid rgba(64, 64, 64, 0.25);
          background-color: #fff;
          box-sizing: border-box;
        }
				input {
					font-family: 'Helvetica Neue', Roboto, Arial, Helvetica, sans-serif;
				}
				polymer-ui-field polymer-ui-
      </style>

      <polymer-grid-layout nodes="{{nodes}}" layout="{{layout}}"></polymer-grid-layout>

      <polymer-ui-sidebar-menu static id="sidebar" label="Contacts" selected="{{selectedNav}}" theme="polymer-ui-dark-theme">
        <polymer-ui-menu-item label="Explore" on-tap="exploreAction"></polymer-ui-menu-item>
        <polymer-ui-menu-item label="Me" on-tap="meAction"></polymer-ui-menu-item>
        <polymer-ui-menu-item label="Updates"></polymer-ui-menu-item>
        <polymer-ui-menu-item label="Settings"></polymer-ui-menu-item>
      </polymer-ui-sidebar-menu>
           
      <panel id="otherbar" static>Otherbar</panel>
      
      <polymer-ui-toolbar id="groupbar">
        <polymer-ui-icon-button icon="menu" on-tap="sidebarToggleAction"></polymer-ui-icon-button>
        <span flex>Contacts</span>
				<polymer-ui-icon-button icon="plus" on-tap="addAction"></polymer-ui-icon-button>
				<polymer-ui-icon-button icon="{{grid ? 'list' : 'grid'}}" on-tap="gridAction"></polymer-ui-icon-button>
      </polymer-ui-toolbar>

      <panel id="groups">
        <polymer-ui-accordion id="accordion">
          <!-- for each group -->
          <template repeat="{{group in groups}}">
            <polymer-ui-collapsible>
              <!-- make a collapsible with a header -->
              <div class="polymer-ui-collapsible-header">{{group.header}}</div>
              <template if="{{grid}}">
                <polymer-grid style="position: relative; height: 230px;"></polymer-grid>
              </template>
              <template if="{{!grid}}">
                <contact-list contacts="{{group.contacts}}" on-select-contact="selectContact"></contact-list>
              </template>
            </polymer-ui-collapsible>
          </template>
        </polymer-ui-accordion>
      </panel>

      <polymer-ui-toolbar id="collectionbar">
        <polymer-ui-icon-button icon="left" on-click="exploreAction"></polymer-ui-icon-button>
        <span flex>Contacts</span>
        <polymer-ui-icon-button icon="dialog" on-click="sidebarToggleAction"></polymer-ui-icon-button>
        <polymer-ui-icon-button icon="add" on-click="sidebarToggleAction"></polymer-ui-icon-button>
      </polymer-ui-toolbar>

      <panel id="collection">
        <polymer-grid style="position: relative; height: 451px;"></polymer-grid>
      </panel>

			<polymer-ui-toolbar id="contactbar" theme="polymer-ui-dark-theme">
				<polymer-ui-icon-button icon="left" on-click="exploreAction"></polymer-ui-icon-button>
				<span flex>Contact Name</span>
				<polymer-ui-icon-button icon="dots" on-click="openContactSheetAction"></polymer-ui-icon-button>
			</polymer-ui-toolbar>

			<polymer-ui-overlay id="contactsheet" on-click="openContactSheetAction">
				<polymer-ui-menu>
					<polymer-ui-menu-item icon="favorite" label="Favorite"></polymer-ui-menu-item>
					<polymer-ui-menu-item icon="shortcut" label="Share"></polymer-ui-menu-item>
					<polymer-ui-menu-item icon="trash" label="Delete"></polymer-ui-menu-item>
				</polymer-ui-menu>
			</polymer-ui-overlay>

			<panel id="contact">
				<contact-photo><div></div></contact-photo>
				<template repeat="{{myinfo}}">
					<contact-info-item icon="{{icon}}" value="{{value}}" label="{{label}}" more="{{more}}"></contact-info-item>
				</template>
			</panel>

			<polymer-ui-toolbar id="newcontactbar" theme="polymer-ui-dark-theme">
				<polymer-ui-icon-button icon="close" on-click="exploreAction"></polymer-ui-icon-button>
				<span flex>New Contact</span>
			</polymer-ui-toolbar>

			<panel id="newcontact">
				<contact-photo><div></div></contact-photo>
				<polymer-ui-field>
					<polymer-ui-icon icon="contact"></polymer-ui-icon>
					<input placeholder="First name">
				</polymer-ui-field>
				<polymer-ui-field>
					<polymer-ui-icon icon="contact"></polymer-ui-icon>
					<input placeholder="Last name">
				</polymer-ui-field>
				<polymer-ui-field>
					<polymer-ui-menu-button icon="contact">
						<polymer-ui-menu-item label="Home"></polymer-ui-menu-item>
						<polymer-ui-menu-item label="Mobile"></polymer-ui-menu-item>
						<polymer-ui-menu-item label="Work"></polymer-ui-menu-item>
					</polymer-ui-menu-button>
					<input placeholder="Phone">
				</polymer-ui-field>
				<polymer-ui-field>
					<polymer-ui-menu-button icon="contact">
						<polymer-ui-menu-item label="Home"></polymer-ui-menu-item>
						<polymer-ui-menu-item label="Work"></polymer-ui-menu-item>
					</polymer-ui-menu-button>
					<input placeholder="Email">
				</polymer-ui-field>
				<polymer-ui-field>
					<polymer-ui-menu-button icon="marker">
						<polymer-ui-menu-item label="Home"></polymer-ui-menu-item>
						<polymer-ui-menu-item label="Work"></polymer-ui-menu-item>
					</polymer-ui-menu-button>
					<input placeholder="Address">
				</polymer-ui-field>
				<polymer-ui-field>
					<polymer-ui-icon icon="plus"></polymer-ui-icon>
					<span>Add a field</span>
				</polymer-ui-field>
			</panel>
    </template>
    <script>
      Polymer('mock-tacts', {
        groups: [
          {header: 'Favorites', contacts: ["John", "James", "Jingleheimer", "Schmidt"]},
          {header: 'Near By', contacts: ["John", "James", "Jingleheimer", "Schmidt"]},
          {header: 'Recent', contacts: ["John", "James", "Jingleheimer", "Schmidt"]},
          {header: 'Groups', contacts: ["John", "James", "Jingleheimer", "Schmidt"]},
          {header: 'All', contacts: ["John", "James", "Jingleheimer", "Schmidt"]}
        ],
				myinfo: [
					{icon: 'contact', value: '(555) 555-5555', label: 'Mobile'},
					{icon: 'contact', value: 'foo@bar.com', label: 'Personal'},
					{icon: 'dialoga', value: '@something'},
					{icon: 'marker', value: 'San Francisco, CA, USA', more: true},
					{icon: 'marker', value: '345 Spear St, Fl 4'}
				],
				newcontact: [
					{icon: 'contact', placeholder: 'First name'},
					{icon: 'contact', placeholder: 'Last name'},
					{icon: 'contact', placeholder: 'Phone'},
					{icon: 'contact', placeholder: 'Email'},
					{icon: 'marker', placeholder: 'Address'}
				],
        pages: [[
          [1, 3],
          [1, 4],
          [2, 4]
        ], [
          [3],
          [4],
          [4]
        ], [
          [1, 5],
          [1, 6],
          [2, 6]
        ], [
          [5],
          [6],
          [6]
				], [
          [7],
          [8],
          [8]
				], [
          [9],
          [10],
          [10]
				]],
        page: 1,
        selectedNav: 0,
				grid: true,
        ready: function() {
          this.nodes = [
            this.$.sidebar, this.$.otherbar, this.$.groupbar,
						this.$.groups, this.$.collectionbar, this.$.collection,
						this.$.contactbar, this.$.contact, this.$.newcontactbar,
						this.$.newcontact
          ];
          this.pageChanged();
          this.async(function() {
             this.$.accordion.selected = 0;
          });
        },
        gridAction: function() {
          this.grid = !this.grid;
          /*
          var groups = this.groups.slice(0);
          this.groups = null;
          this.async(function() {
            this.groups = groups;
          });
          */
        },
        pageChanged: function() {
          this.layout = this.pages[this.page];
        },
        sidebarToggleAction: function() {
          this.page = this.page ^ 1;
        },
        exploreAction: function() {
          this.page = 1;
        },
        meAction: function() {
          this.selectedNav = 0;
          this.page = 4;
        },
				addAction: function() {
					this.selectedNav = 0;
					this.page = 5;
				},
				openContactSheetAction: function() {
					this.$.contactsheet.toggle();
				},
        selectContact: function() {
          this.selectedNav = 0;
          this.page = 3;
        },
        selectedNavChanged: function() {
          //this.page = this.selectedNav * 2 + 1;
				}
      });
    </script>
  </polymer-element>
</body>
</html>
