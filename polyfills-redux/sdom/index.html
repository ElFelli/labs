<!--
Copyright 2012 The Toolkitchen Authors. All rights reserved.
Use of this source code is governed by a BSD-style
license that can be found in the LICENSE file.
-->
<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <script src="base/sdom.js"></script>
    <script src="ShadowDOM.js"></script>
    <script src="querySelector.js"></script>
    <script src="ShadowDOMNohd.js"></script>
    <script src="inspector.js"></script>
    <style>
      content {
        border: 1px dotted red;
      }
    </style>
  </head>
  <body>
    <div id="A"><span>Hello World</span><code> code it up </code></div>
    <script>
      // get AA (as a Nohd, window.A is a Node, unfortunately)
      AA = document.querySelector('#A');
      // make a shadow root
      var root = new ShadowRoot(AA);
      // put some stuff in it
      root.appendChild(document.createTextNode('[OLD Shadow DOM]'));
      root.appendChild(document.createElement('content'));
      // make a newer shadow root
      var root = new ShadowRoot(AA);
      // put some stuff in it
      root.appendChild(document.createElement('shadow'));
      root.appendChild(document.createTextNode('[NEW Shadow DOM]'));
      root.appendChild(document.createElement('content'))
          .setAttribute("select", "code");
      root.appendChild(document.createTextNode('[END Shadow DOM]'));
      // add some light dom
      AA.appendChild(document.createTextNode('[Light DOM]'));
      // start ShadowDOM inspector
      window.onload = function() {
        // emperically, jobbed distributes (timer events) do not fire until 
        // after onload and the shadow inpsector as yet has no facility to 
        // update on distribution
        console.log("onload");
        AA.distribute();
        sinspect();
      };
    </script>
  </body>
</html>
