<link rel="import" href="../../polymer-elements/polymer-animation/polymer-animation-group.html">
<link rel="import" href="../../polymer-elements/polymer-animation/polymer-translate.html">
<link rel="import" href="../../polymer-ui-elements/polymer-ui-toolbar/polymer-ui-toolbar.html">
<link rel="import" href="../../polymer-ui-elements/polymer-ui-icon-button/polymer-ui-icon-button.html">
<link rel="import" href="../../more-elements/polymer-more/polymer-ui-clock/polymer-ui-clock.html">
<link rel="import" href="../../more-elements/polymer-more/polymer-ui-weather/polymer-ui-weather.html">
<link rel="import" href="../../more-elements/polymer-more/polymer-ui-stock/polymer-ui-stock.html">
<link rel="import" href="scale-out.html">
<polymer-element name="animated-tiles">
  <template>
    <style>
      polymer-ui-clock, polymer-ui-stock, polymer-ui-weather {
        width: 320px;
        height: 320px;
        border: 1px solid rgba(32, 32, 32, 0.6);
        position: absolute;
      }
      #all {
        width: 960px;
        border: 1px solid white;
        overflow: hidden;
        /*-webkit-transform: perspective(1000px) rotateY(-30deg) translateX(200px);*/
      }
      #tiles {
        width: 960px;
        height: 640px;
        position: relative;
      }
      .tile1 {
        top: 0;
        left: 0;
        -webkit-transform: translate(480px, 700px);
      }
      .tile2 {
        top: 0;
        left: 320px;
        -webkit-transform: translate(160px, 700px);
      }
      .tile3 {
        top: 0;
        left: 640px;
        -webkit-transform: translate(-160px, 700px);
      }
      .tile4 {
        top: 320px;
        left: 0;
        -webkit-transform: translate(20px, 380px);
      }
      .tile5 {
        top: 320px;
        left: 320px;
        -webkit-transform: translate(-300px, 380px);
      }
      .tile6 {
        top: 320px;
        left: 640px;
        -webkit-transform: translate(-620px, 380px);
      }
      .initialized .group1,
      .initialized .group2 {
        -webkit-transform: translate(0,0);
      }
    </style>
    <div id="all">
      <polymer-ui-toolbar theme="polymer-ui-light-theme">
        <polymer-ui-icon-button src="../../projects/Sandbox/lib/assets/menu.png"></polymer-ui-icon-button>
        <div class="flex"></div>
        <polymer-ui-icon-button src="../../projects/Sandbox/lib/assets/ic_refresh_darkreg.png" on-click="go"></polymer-ui-icon-button>
        <polymer-ui-icon-button src="../../projects/Sandbox/lib/assets/fullscreen.png"></polymer-ui-icon-button>
      </polymer-ui-toolbar>
      <div id="tiles" class="{{state}}">
        <polymer-ui-clock id="tile1" class="tile1 group1"></polymer-ui-clock>
        <polymer-ui-weather id="tile2" class="tile2 group1"></polymer-ui-weather>
        <polymer-ui-stock id="tile3" class="tile3 group1"></polymer-ui-stock>
        <polymer-ui-stock id="tile4" class="tile4 group2"></polymer-ui-stock>
        <polymer-ui-clock id="tile5" class="tile5 group2"></polymer-ui-clock>
        <polymer-ui-weather id="tile6" class="tile6 group2"></polymer-ui-weather>
      </div>
    </div>
    <polymer-animation-group id="animation" type="seq">
      <polymer-animation-group easing="ease-in" on-complete="onTilesShow">
        <polymer-translate target="{{$.tile3}}" duration="{{duration}}" easing="{{easing}}" fromX="-160px" fromY="700px" toX="0px" toY="0px"></polymer-translate>
        <polymer-translate target="{{$.tile6}}" duration="{{duration}}" easing="{{easing}}" startDelay="0.1" fromX="-620px" fromY="380px" toX="0px" toY="0px"></polymer-translate>
        <polymer-translate target="{{$.tile2}}" duration="{{duration}}" easing="{{easing}}" startDelay="0.2" fromX="160px" fromY="700px" toX="0px" toY="0px"></polymer-translate>
        <polymer-translate target="{{$.tile5}}" duration="{{duration}}" easing="{{easing}}" startDelay="0.3" fromX="-300px" fromY="380px" toX="0px" toY="0px"></polymer-translate>
        <polymer-translate target="{{$.tile1}}" duration="{{duration}}" easing="{{easing}}" startDelay="0.4" fromX="480px" fromY="700px" toX="0px" toY="0px"></polymer-translate>
        <polymer-translate target="{{$.tile4}}" duration="{{duration}}" easing="{{easing}}" startDelay="0.6" fromX="20px" fromY="380px" toX="0px" toY="0px"></polymer-translate>
      </polymer-animation-group>
      <polymer-animation-group startDelay="0.8" easing="ease-out">
        <scale-out target="{{$.tile1}}" duration="{{outDuration}}"></scale-out>
        <scale-out target="{{$.tile2}}" duration="{{outDuration}}" startDelay="0.3"></scale-out>
        <scale-out target="{{$.tile3}}" duration="{{outDuration}}" startDelay="0.6"></scale-out>
        <scale-out target="{{$.tile4}}" duration="{{outDuration}}" startDelay="0.2"></scale-out>
        <scale-out target="{{$.tile5}}" duration="{{outDuration}}" startDelay="0.1"></scale-out>
        <scale-out target="{{$.tile6}}" duration="{{outDuration}}" startDelay="0.4"></scale-out>
      </polymer-animation-group>
    </polymer-animation-group>
  </template>
  <script>
    Polymer('animated-tiles', {
      state: '',
      duration: 0.6,
      outDuration: 0.8,
      onTilesShow: function() {
        this.state = 'initialized';
      },
      go: function() {
        this.state = 'animating';
        this.$.animation.play();
      }
    });
  </script>
</polymer-element>
