<!--
Copyright 2013 The Toolkitchen Authors. All rights reserved.
Use of this source code is governed by a BSD-style
license that can be found in the LICENSE file.
-->
<element name="tk-palette" attributes="elements">
  <template>
      <style>
        g-menu-item {
          display: block;
          padding: 14px 14px 14px 30px;
          cursor: pointer;
        }
        g-menu-item.selected {
          background-color: gray;
        }
        g-selector {
          display: block;
        }
      </style>
      <g-selector on-trackstart="trackStart" on-track="track" on-trackend="trackEnd">
        <template repeat="{{elements}}">
          <g-menu-item src="assets/ic_ribbon_labels_lightreg.png" tag="{{id}}" label="{{label}}"></g-menu-item>
        </template>
     </g-selector>
  </template>
  <script>
    Toolkit.register(this, {
      trackStart: function(event) {
        this.send('palette-drag-start', event.target.getAttribute('tag'));
        event.stopPropagation();
      },
      track: function(event) {
        this.send('palette-drag', {x: event.pageX, y: event.pageY});
        event.stopPropagation();
      },
      trackEnd: function(event) {
        this.send('palette-drag-end');
        event.stopPropagation();
      }
    });
  </script>
</element>
