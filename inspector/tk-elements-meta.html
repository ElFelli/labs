<element name="tk-elements-meta">

  <tk-meta id="g-toolbar" label="Toolbar">
    <archetype>
      <g-toolbar style="right: 0px; left: 0px;"> 
        <g-icon-button src="images/star_full.svg" active="true"></g-icon-button>
        <div class="flex">Toolbar</div>
        <g-toolbar responsive="true">
          <g-icon-button src="images/add.png"></g-icon-button>
          <g-icon-button src="images/favorite.png"></g-icon-button>
        </g-toolbar>
        <g-icon-button src="images/hangout.png"></g-icon-button>   
      </g-toolbar>
    </archetype>
  </tk-meta>

  <tk-meta id="g-tabs" label="Tabs">
    <archetype>
      <g-tabs selected="0">
        <span>One</span>
        <span>Two</span>
        <span>Three</span>
        <span>Four</span>
      </g-tabs>
    </archetype>
  </tk-meta>
  
  <tk-meta id="g-ratings" label="Ratings"></tk-meta>
  
  <tk-meta id="g-togglebutton" label="Toggle Button"></tk-meta>

  <tk-meta id="g-menu" label="Menu">
    <archetype>
      <g-menu selected="0">
        <g-menu-item src="images/comment.png">Post a Comment</g-menu-item>
        <g-menu-item src="images/hangout.png">Share Link</g-menu-item>
        <g-menu-item src="images/mail.png">Email Link</g-menu-item>
        <g-menu-item src="images/favorite.png">Add to Favorites</g-menu-item>
      </g-menu>
    </archetype>
  </tk-meta>
  
  <tk-meta id="div" label="Caption">
    <archetype>
      <div style="border: 1px dotted silver; padding: 6px;">A Caption</div>
    </archetype>
  </tk-meta>
  
  <tk-meta id="chart-js" label="Chart.js">
    <properties>
      <property name="kind" kind="select" options="Bar,Line,Radar,Pie,PolarArea"></property>
      <property name="color" kind="color"></property>
    </properties>
  </tk-meta>
  
  <tk-meta id="ajaxorg-ace" label="Ace Editor">
    <archetype>
      <ajaxorg-ace style="border: 1px dotted silver; width: 300px; height: 200px;"></ajaxorg-ace>
    </archetype>
  </tk-meta>
  
  <tk-meta id="x-coolclock" label="CoolClock"></tk-meta>
  
  <tk-meta id="g-ajax" label="Ajax">
    <archetype>
      <g-ajax style="border: 1px dotted silver; padding: 8px;">Ajax</g-ajax>
    </archetype>
    <properties>
      <property name="handleAs" kind="select" options="json,text,xml"></property>
    </properties>
  </tk-meta>
  
  <tk-meta id="x-stock" label="Stock">
    <archetype>
      <x-stock symbol="GOOG"></x-stock>
    </archetype>
  </tk-meta>
  
  <tk-meta id="wu-weather" label="Weather"></tk-meta>
  
  <tk-meta id="tk-app" label="Sandbox App">
    <archetype>
      <tk-app style="width: 900px; height: 600px;"></tk-app>
    </archetype>
  </tk-meta> 

  <tk-meta id="humane-js" label="Notification">
    <archetype>
      <humane-js onclick="log()" style="border: 3px dotted gray; background-color: silver; padding: 12px;">Notification</humane-js>
    </archetype>
  </tk-meta>
  
  <tk-meta id="pdf-js" label="PDF Reader"></tk-meta>

  <tk-meta id="smoothie-chart" label="Smoothie Chart"></tk-meta>

  <tk-meta id="humane-js" label="Notification"></tk-meta>

  <tk-meta id="marked-js" label="Markdown Renderer"></tk-meta>

  <script>
    Toolkit.register(this, {
      get metadata() {
        return Array.prototype.slice.call(
            this.elementElement.querySelectorAll('tk-meta'));
      },
      getElementMeta: function(tag) {
        var meta = this.elementElement.querySelector('#' + tag);
        if (meta) {
          var a = meta.getArchetype();
          var p = meta.getProperties();
          return {
            archetype: a && a.innerHTML || '',
            properties: p
          };
        }
      }
    });
  </script>
</element>

<element name="tk-meta" attributes="label">
  <script>
    Toolkit.register(this, {
      getArchetype: function() {
        return this.querySelector('archetype');
      },
      getProperties: function() {
        var ps = this.querySelector('properties');
        var props = {};
        ps && Array.prototype.forEach.call(ps.children, function(p) {
          var n = p.getAttribute('name');
          var k = p.getAttribute('kind');
          var o = p.getAttribute('options');
          props[n] = {
            kind: k,
            options: o && o.split(',')
          };
        });
        return props;
      }
    });
  </script>
</element>