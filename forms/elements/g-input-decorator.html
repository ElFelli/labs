<element name="g-input-decorator">
  <template>
    <style>
      @host {
        /* @polyfill g-input-decorator */
        :scope {
          border-width: 1px;
          border-color: #b2b2b2;
          border-style: solid;
          background: white;
        }
        /* @polyfill g-input-decorator + g-input-decorator */
        :scope + :scope{
          border-top-width: 0px;
        }
        :scope:last-of-type {
          border-top-width: 0px;
        }
      }
      #shadow {
        display: -webkit-flex;
        -webkit-flex-flow: row nowrap;
        -webkit-align-items: center;
      }
      .focused {
        box-shadow: inset 0 0 8px #448afd, 0 0 8px #448afd;
      }
      /* @polyfill #shadow > input */
      #input::-webkit-distributed(input) {
        border: none;
        outline: 0;
        -webkit-flex: 1 auto;
      }
      /* @polyfill #shadow > input::-webkit-input-placeholder */
      #input::-webkit-distributed(input::-webkit-input-placeholder) {
        color: #bfbfbf;
      }
      /* @polyfill #shadow > [left], #shadow > [right] */
      #left::-webkit-distributed(*), #right::-webkit-distributed(*) {
        -webkit-flex: 0;
      }
    </style>
    <div id="shadow">
      <content id="left" select="[left]"></content>
      <content id="input" select="input"></content>
      <content id="right" select="[right]"></content>
    </div>
  </template>
  <script>
    Toolkit.register(this, {
      setFocus: function(inFocused) {
        this.$.shadow.classList.toggle('focused', inFocused);
      },
      ready: function() {
        this.addEventListener('focus', function(e){
          this.setFocus(true);
        }.bind(this), true);
        this.addEventListener('blur', function(e){
          this.setFocus();
        }.bind(this), true);
      }
    });
  </script>
</element>
