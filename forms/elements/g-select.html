<link rel="import" href="../../../toolkit/components/g-selector.html">
<link rel="import" href="../../../toolkit/components/g-overlay.html">
<element name="g-select" attributes="selected">
  <template>
    <style>
      @host {
        * {
          border: 1px solid #b2b2b2;
        }
      }
      #label {
        padding: 8px;
      }
      #container {
        display: -webkit-flex;
        -webkit-flex-flow: column nowrap;
        -webkit-align-items: center;
      }
      #selector {
        display: block;
        min-width: 200px;
      }
      /* @polyfill #selector > * */
      ::-webkit-distributed(*) {
        padding: 8px;
        border: 1px solid #b2b2b2;
        border-top-width: 0;
        font-size: 14pt;
      }
      /* @polyfill #selector > :nth-child(2) */
      ::-webkit-distributed(:first-child) {
        border-top-width: 1px;
      }
    </style>
    <div id="label" on-tap="open">{{$.selector.selection.textContent}}</div>
    <g-overlay id="container">
      <g-selector id="selector" on-activate="close" selected="{{selected}}">
        <content select="*"></content>
      </g-selector>
    </g-overlay>
  </template>
  <script>
    Toolkit.register(this, {
      ready: function() {
        this.setAttribute('touch-action', 'none');
      },
      selected: 0,
      selectedChanged: function() {
        this.$.selector.selected = this.selected;
      },
      open: function() {
        this.$.container.opened = true;
      },
      close: function() {
        this.$.container.opened = false;
      }
    });
  </script>
</element>
